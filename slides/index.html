<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>NancyFx for a Simpler Web</title>

		<!-- Maybe a font from http://www.google.com/webfonts ? -->
		<link href='http://fonts.googleapis.com/css?family=Oswald' rel='stylesheet'/>
		
		<link rel="stylesheet" href="site.css">
		<link rel="stylesheet" href="style.css"/>
	</head>
	<body>
		<section>
			<h1>NancyFx for a <br> Simpler Web</h1>
			<footer>Stachu Korick</footer>
		</section>

		<section>
			<h3>
				Who am I?
			</h3>
			<ul class="incremental">
				<li>Not an Microsoft MVP</li>
				<li>Haven't written any books</li>
				<li>Don't contribute to any OSS projects you care about</li>
				<li>
					Software Dev at AcademyOne
					(check them out)
				</li>
			</ul>
		</section>

		<section>
			<h3>Basic History of NancyFx</h3>
			<ul class="incremental">
				<li>Open-Source</li>
				<li>Based off of Ruby's Sinatra</li>
				<li>Lightweight and low-ceremony</li>
				<li>Works on .NET and Mono</li>
				<li>Has sensible defaults, but lets you easily override</li>
			</ul>
			<div role="note">
				Doesn't force you to subscribe to less personality-driven software than MVC
			</div>
		</section>

		<section>
			<h3>
				How the internet works
				<small>(in a nutshell)</small>

				<br><small>(a.k.a. - responsibilities of a web framework</small>
			</h3>
			<ul>
				<li>Client sends request</li>
				<li>Server picks up on request</li>
				<li>Server handles request, and prepares its response</li>
				<li>Server sends back response</li>
				<li>Client deals with response</li>
				<li>...Repeat!</li>
			</ul>
			<div role="note">Some notes. They are only visible using onstage shell.</div>
		</section>

		<section>
			<h3>Available Hosts</h3>
			<ul class="incremental">
				<li>ASP.NET (IIS)</li>
				<li>WCF</li>
				<li>OWIN and Self-Hosting</li>
				<li>Anything! (even mono on a raspberry pi)</li>
			</ul>
			<div role="note">Some notes. They are only visible using onstage shell.</div>
		</section>

		<section>
			<h3>Super-Duper-Happy-Path</h3>
			<ul class="incremental">
				<li>It just works</li>
				<li>Easily-customizable</li>
				<li>Low-ceremony</li>
				<li>Low-friction</li>
			</ul>
			<div role="note">Some notes. They are only visible using onstage shell.</div>
		</section>

		<section>
			<h3>Modules: The Endpoints of NancyFx!</h3>
			<code>
				<pre>
public class ResourceModule : NancyModule
{
    public ResourceModule() : base("/products")
    {
        Get["/list"] = parameters => {
            return "The list of products";
        };
    }
}
			"get me to the code!"
				</pre>
			</code>

			<div role="note">Some notes. They are only visible using onstage shell.</div>
		</section>

		<section>
			<h3>Mini-Review</h3>
			<ul>
				<li>In Nancy, Modules routes' are the endpoints of the application.</li>
			</ul>
		</section>

<!-- 		<section>
			<blockquote>
				asdf
			</blockquote>
			<details>
				<p>
					In the onstage shell, notes scroll rather than overflow:</p>
				<p>
					Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla ac dui eu est feugiat lacinia sit amet nec leo. Mauris eu ipsum leo. Nulla mi odio, cursus sed sollicitudin non, fringilla id magna. Suspendisse sit amet posuere elit. Maecenas iaculis, turpis a placerat imperdiet, libero lorem feugiat nisi, nec tincidunt diam nibh sit amet massa. Vestibulum quis adipiscing tellus. Maecenas sollicitudin sodales pulvinar. Donec dui ipsum, bibendum facilisis consequat interdum, tempus ut mauris. Aliquam ut dolor nec odio scelerisque bibendum quis in neque. Aliquam dui dui, pulvinar quis fermentum quis, gravida eu augue. Nunc tristique dolor a urna pulvinar bibendum. Curabitur mollis cursus neque, in scelerisque metus porta non. Donec tempor enim in nibh vestibulum et convallis nisi malesuada. Duis ut lectus sed metus venenatis porttitor id pharetra quam. Suspendisse sapien turpis, ornare in molestie et, gravida eget turpis.
				</p>
		  </details>
		</section>
 -->
		<section>
			<h3>Why use NancyFx?</h3>
			<ul>
				<li>Terse syntax; less ceremony</li>
				<li>Better extension points</li>
				<li>Easier testing</li>
				<li>Automatic dependency-injection</li>
				<li>Completely customizable</li>
				<li>Runs anywhere (even in an .exe!)</li>
				<li>No web.config nonsense</li>
				<li>Support and community</li>
			</ul>
		</section>

<!-- More on Routing -->

		<section>
			<h2>An Explanation of Routing</h2>
		</section>

		<section>
			<h3>
				All routes follow the same pattern:<br>
				METHOD+PATTERN+(CONDITION)+ACTION
			</h3>
			<img src="http://i.imgur.com/lKS8zji.png?1" alt="">
		</section>

		<section>
			<h3>Methods available</h3>
			<ul>
				<li>GET</li>
				<li>POST</li>
				<li>PATCH</li>
				<li>PUT</li>
				<li>DELETE</li>
				<li>OPTIONS</li>
				<li>HEAD</li>
			</ul>
		</section>

		<section class="incremental">
			<div>
				<h3>Patterns</h3>

				<ul>
					<li>
						Literal strings 
						"/my/route"
					</li>
					<li>
						Captures
						"/my/{route}"
					</li>
					<li>
						Route Constraints
						"/my/{route:alpha}"
					</li>
				</ul>
			</div>
			<div>
				<h3>Note: Different patterns have different weight</h3>
				<small>(kind of like CSS selectors)</small>
			</div>
		</section>

		<section>
			<h3>Actions</h3>

			Func&lt;dynamic, dynamic&gt;
			<br><br>
			Will determine response type automatically, 
			or you can use the Response object to manually negotiate content
		</section>
		
		<section>
			<h3>Condition</h3>

			insert example
		</section>

<!-- Model-Binding -->

		<section>
			<h2>Model-Binding</h2>
		</section>

		<section>
			<h3>Reminder Example</h3>
			[insert from Dragon API]
		</section>

		<section>
			<h3>The model-binder will pick up on:</h3>

			<ul>
				<li>Query strings</li>
				<li>Captured parameters</li>
				<li>Body of request</li>
			</ul>
		</section>

		<section>
			<h3>Available Syntaxes</h3>

			<ul>
				<li>Foo f = this.Bind();</li>
				<li>var f = this.Bind<Foo>();</li>
				<li>var f = this.BindTo(instance);</li>
			</ul>
		</section>

		<section>
			<h3>How Does Nancy Figure Out What Data I'm Passing In?</h3>

			<p>
				Nancy will look at your HTTP Content-Type header.

				<br>
				i.e. - application/json will result in being interpreted as JSON
			</p>
		</section>

<!-- The Bootstrapper -->

		<section>
			<h2>The Bootstrapper</h2>
		</section>


		<section>
			<h3>What is the Bootstrapper?</h3>

			<ul>
				<li>
					The bootstrapper is Nancy's way of letting you change the runtime behaviour of NancyFx
				</li>
				<li>Basically a global.asax and web.config combo that isn't as bad as either</li>
			</ul>
		</section>

		<section>
			<h3>Take me to the code!</h3>
			
			ok.
		</section>
		
		<section>
			<h3>What if my Bootstraper's too long?</h3>

			<p>Create some classes inheriting from IStartup.</p>
		</section>

<!-- Hooks -->

		<section>
			<h2>Hooks!?</h2>
			<footer>To the code!</footer>
		</section>

		<section>
			<h3>What are Hooks good for?</h3>

			<ul>
				<li>Caching</li>
				<li>Security</li>
				<li>Rewriting requests/responses</li>
				<li>Dealing with runtime errors</li>
			</ul>
		</section>

<!-- Async -->

		<section>
			<h2>How do I Async?</h2>
		</section>

		<section>
			<h3>Route-level</h3>
			<code>
				<pre>
	Get["/", true] = async (x, ct) =>
        {
            await Task.Delay(1000);

            return "done";
        };
				</pre>
			</code>
		</section>

		<section>
			<h3>Hook-level</h3>
			<code>
				<pre>
	Before += async (ctx, ct) =>
        {
            await Task.Delay(5000);

            return null;
        };
				</pre>
			</code>
		</section>

<!-- Views and ViewEngines -->

		<section>
			<h2>Views and ViewEngines</h2>
		</section>

		<section>
			<h3>Supported ViewEngines</h3>
			<ul>
				<li>Raw HTML</li>
				<li>SuperSimpleViewEngine</li>
				<li>Razor</li>
				<li>Spark</li>
				<li>NHaml</li>
				<li>NDjango</li>
				<li>dotLiquid</li>
				<li>Parrot</li>
				<li>etc.</li>
			</ul>
		</section>

		<section>
			<h3>Syntax for Returning a View</h3>

			<h4>Simple No-Model View</h4>
			<code>
				<pre>
	return View["viewName"];
				</pre>
			</code>
			
			<br>
			<h4>View with a Model</h4>
			<code>
				<pre>
	return View["viewName", model];
				</pre>
			</code>

		</section>

		<section>
			<h2>Testing NancyFx</h2>
			<footer>(why I really love NancyFx)</footer>
		</section>

		<section>

		</section>

		<div id="progress-bar"></div>

		<script src="site.js"></script>
	</body>
</html>